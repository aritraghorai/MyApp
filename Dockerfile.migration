FROM oven/bun:latest

# Install build dependencies for native modules

WORKDIR /app

# Copy manifests

COPY prisma.config.ts ./

# Install all dependencies (including devDependencies for prisma)
RUN bun install prisma

# Copy prisma directory
COPY prisma ./prisma

# Command to run migrations
CMD ["bun", "prisma", "migrate","dev"]
